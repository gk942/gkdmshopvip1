<!DOCTYPE html>
<html lang="vi">
<head>
  <meta charset="UTF-8">
  <title>Admin - Duy·ªát giao d·ªãch</title>
  <script src="firebase.js"></script>
  <style>
    body { font-family: Arial; background: #f0f0f0; padding: 30px; }
    table {
      width: 100%; border-collapse: collapse;
      background: white; margin-top: 20px;
    }
    th, td { border: 1px solid #ccc; padding: 10px; text-align: center; }
    button { padding: 5px 10px; background: green; color: white; border: none; border-radius: 4px; cursor: pointer; }
  </style>
</head>
<body>
  <h2>üìã Danh s√°ch giao d·ªãch ch·ªù duy·ªát</h2>
  <table id="giaodich">
    <tr><th>UID</th><th>Th·ªùi gian</th><th>Tr·∫°ng th√°i</th><th>H√†nh ƒë·ªông</th></tr>
  </table>

  <script>
    database.ref("giaodich").on("value", (snapshot) => {
      const table = document.getElementById("giaodich");
      table.innerHTML = `<tr><th>UID</th><th>Th·ªùi gian</th><th>Tr·∫°ng th√°i</th><th>H√†nh ƒë·ªông</th></tr>`;
      snapshot.forEach((child) => {
        const data = child.val();
        const row = document.createElement("tr");
        row.innerHTML = `
          <td>${data.uid}</td>
          <td>${data.time}</td>
          <td>${data.status}</td>
          <td><button onclick="duyet('${data.uid}')">‚úÖ Duy·ªát</button></td>
        `;
        table.appendChild(row);
      });
    });

    function duyet(uid) {
      database.ref("giaodich/" + uid).update({
        status: "ƒê√£ duy·ªát"
      });
    }
  </script>
</body>
</html>
